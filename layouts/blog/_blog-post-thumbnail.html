{{ $pattern := default "thumbnail.*" .Params.thumbnail }}
{{ with partial "utils/process-image" (dict
  "res" .Resources
  "pattern" $pattern
  "width" 256
  "height" 256
  "process" "fill jpg q80 lanczos"
)}}
  <img src="{{ .RelPermalink }}" alt="{{ path.BaseName .Name | humanize }}" class="rounded-xs size-32">
{{ else }}
  {{/* Fallback */}}
  <img src="/blog/thumbnail.svg" alt="" class="rounded-xs size-32">
{{ end }}
